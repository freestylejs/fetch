---
title: CLI Reference
description: Complete reference for the create-freestyle-fetch command-line interface.
---

## Commands

The `create-freestyle-fetch` provides a single `generate` command for creating API clients.

### `generate`

Generate a type-safe API client from an **OpenAPI** specification.

```bash
create-freestyle-fetch generate [options]
```

## Options

| Option | Alias | Type | Required | Description |
| ------ | ----- | ---- | -------- | ----------- |
| `--input <path>` | `-i` | string | Yes | Path to the OpenAPI specification file (JSON or YAML). The generator automatically detects the format based on the file extension. |

| `--output <dir>` | `-o` | string | Yes | Directory where generated files will be saved |

> **Note:** Both `.json` and `.yaml`/`.yml` files are supported. No additional flags are required.

## Examples

### A. Basic Generation

Generate client files from a local specification:

```bash
create-freestyle-fetch generate \
  --input ./api-spec.yaml \
  --output ./src/api
```

### B. Using Relative Paths

Paths are resolved relative to the current working directory:

```bash
create-freestyle-fetch generate \
  -i ../specs/api.json \
  -o ./generated
```

### C. With `npx`

Run the generator without installation:

```bash
npx create-freestyle-fetch generate \
  --input ./openapi.json \
  --output ./src/generated
```

## Output Files

The `generate` command creates three files in the output directory:

### A. `models.ts`

Contains **Zod schemas** for all components defined in your OpenAPI specification:

```typescript
import { z } from 'zod'

export const User = z.object({
  id: z.string(),
  name: z.string(),
  email: z.email()
})

export type UserModel = z.infer<typeof User>
```

### B. `api.ts`

Contains the **type-safe router** with all API endpoints:

```typescript
import { f } from '@freestylejs/fetch'
import { z } from 'zod'
import * as Model from './models'

export const api = f.router('https://api.example.com', {
  users: {
    $userId: {
      GET: f.builder()
        .def_json()
        .def_response(async ({ json }) => Model.User.parse(await json()))
    }
  }
})
```

### C. `index.ts`

Re-exports all generated code for convenience:

```typescript
export * from './api'
export * from './models'
```

## Error Handling

The CLI provides clear error messages for common issues:

### A. Invalid Specification

If the OpenAPI file is invalid or cannot be parsed:

```bash
Error: Failed to parse OpenAPI specification
  File: ./api-spec.yaml
  Reason: Invalid YAML syntax at line 42
```

### B. Missing File

If the input file does not exist:

```bash
Error: Input file not found
  Path: ./api-spec.json
```

### C. Output Directory Issues

The generator creates the output directory if it doesn't exist. Existing files are overwritten.

## Best Practices

### A. Version Control

Add generated files to `.gitignore` and regenerate them during your build process:

```bash
# .gitignore
src/generated/
```

```json
{
  "scripts": {
    "generate": "create-freestyle-fetch generate -i ./spec.json -o ./src/generated",
    "prebuild": "npm run generate"
  }
}
```

### B. CI/CD Integration

Integrate generation into your CI/CD pipeline:

```yaml
# .github/workflows/build.yml
steps:
  - name: Generate API Client
    run: |
      npx create-freestyle-fetch generate \
        --input ./openapi.json \
        --output ./src/generated
  
  - name: Build Application
    run: npm run build
```

## Related

- [Getting Started](/en/docs/create-freestyle-fetch/getting-started) - Installation and basic usage
- [Generated Code](/en/docs/create-freestyle-fetch/generated-code) - Understanding the output
